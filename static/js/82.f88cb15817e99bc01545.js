(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{420:function(s,t,a){"use strict";a.r(t);var v=a(775),_=a(0),n=Object(_.a)({},v.render,v.staticRenderFns,!1,null,null,null),l=a(2);l.install(a(1)),l.compatible&&(s.hot.accept(),s.hot.data?l.reload("85aac32a",n.options):l.createRecord("85aac32a",n.options),s.hot.accept(775,function(s){v=a(775),l.rerender("85aac32a",{render:v.render,staticRenderFns:v.staticRenderFns})}.bind(this))),n.options.__file="examples/docs/docs/imgCropper.md",t.default=n.exports},775:function(s,t,a){"use strict";a.r(t);var v=function(){var s=this.$createElement;this._self._c;return this._m(0)},_=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",{staticClass:"markdown-content"},[a("h2",{attrs:{id:"imgcropper-tu-pian-cai-jian"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#imgcropper-tu-pian-cai-jian"}},[s._v("¶")]),s._v(" ImgCropper 图片裁剪")]),s._v(" "),a("ul",[a("li",[s._v("支持拖拽，用于移动图片使其位于对应位置")]),s._v(" "),a("li",[s._v("支持缩放，用于截取限定区域")]),s._v(" "),a("li",[s._v("支持旋转，用于截取对应角度")]),s._v(" "),a("li",[s._v("支持图片裁剪")])]),s._v(" "),a("h3",{attrs:{id:"an-xu-yin-ru"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#an-xu-yin-ru"}},[s._v("¶")]),s._v(" 按需引入")]),s._v(" "),a("pre",{staticClass:"hljs language-javascript"},[a("code",[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Vue "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'vue'")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" "),a("span",[s._v("{")]),s._v(" ImgCropper "),a("span",[s._v("}")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'wot-design'")]),s._v("\n\nVue.use(ImgCropper)\n")])]),s._v(" "),a("h3",{attrs:{id:"ji-ben-yong-fa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ji-ben-yong-fa"}},[s._v("¶")]),s._v(" 基本用法")]),s._v(" "),a("p",[s._v("图片裁剪组件需要绑定 "),a("code",[s._v("v-model")]),s._v(" 来控制组件的显示与隐藏，通过属性 "),a("code",[s._v("img-src")]),s._v(" 控制展示的图片资源位，也可以通过函数 "),a("code",[s._v("resetImg")]),s._v(" 来控制组件图片的初始化。进入组件后，可以对图片进行拖拽、双指缩放、旋转等操作。监听 "),a("code",[s._v("confirm")]),s._v(" 事件获取选中值。")]),s._v(" "),a("blockquote",[a("p",[a("em",[s._v("注意：在使用组件时，最好在一个新页面中使用图片裁剪组件，图片裁剪保持 "),a("code",[s._v("value")]),s._v(" 为 true（不使用 v-model），完成裁剪时，返回上一页，避免用户习惯性以为使用手机的返回按钮是关闭截图")])])]),s._v(" "),a("pre",{staticClass:"hljs language-html"},[a("code",[a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n  "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("wd-img-cropper")]),s._v("\n      "),a("span",{staticClass:"hljs-attr"},[s._v("v-model")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"show"')]),s._v("\n      "),a("span",{staticClass:"hljs-attr"},[s._v(":img-src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"imgSrc"')]),s._v("\n      @"),a("span",{staticClass:"hljs-attr"},[s._v("confirm")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"handleConfirm"')]),s._v("\n      @"),a("span",{staticClass:"hljs-attr"},[s._v("cancel")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"handleCancel"')]),s._v("\n    >")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("wd-img-cropper")]),s._v(">")]),s._v("\n\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"profile"')]),s._v(">")]),s._v("\n      "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("v-if")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"!loadSrc"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" @"),a("span",{staticClass:"hljs-attr"},[s._v("click")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"upload"')]),s._v(">")]),s._v("\n        "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("i")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"wd-icon-fill-camera img-icon"')]),s._v(">")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("i")]),s._v(">")]),s._v("\n      "),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n      "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("wd-img")]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v("v-else")]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v("round")]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v("width")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"200px"')]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v("height")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"200px"')]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v(":src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"loadSrc"')]),s._v("\n        "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"profile-img"')]),s._v("\n        @"),a("span",{staticClass:"hljs-attr"},[s._v("click")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"upload"')]),s._v("\n      />")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("input")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("style")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"position: absolute; top: 0; left: 0; width: 0; height: 0; opacity: 0;"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("type")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"file"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("ref")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"input"')]),s._v(" @"),a("span",{staticClass:"hljs-attr"},[s._v("change")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"chooseFile"')]),s._v(" />")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("p")]),s._v(">")]),s._v("点击上传头像"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("p")]),s._v(">")]),s._v("\n  "),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),a("span",{staticClass:"javascript"},[s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("default")]),s._v(" "),a("span",[s._v("{")]),s._v("\n  data () "),a("span",[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),a("span",[s._v("{")]),s._v("\n      "),a("span",{staticClass:"hljs-attr"},[s._v("loadSrc")]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(",\n      "),a("span",{staticClass:"hljs-attr"},[s._v("show")]),s._v(": "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(",\n      "),a("span",{staticClass:"hljs-attr"},[s._v("imgSrc")]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v("''")]),s._v("\n    "),a("span",[s._v("}")]),s._v("\n  "),a("span",[s._v("}")]),s._v(",\n  "),a("span",{staticClass:"hljs-attr"},[s._v("methods")]),s._v(": "),a("span",[s._v("{")]),s._v("\n    upload () "),a("span",[s._v("{")]),s._v("\n      "),a("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".$refs.input.click()\n    "),a("span",[s._v("}")]),s._v(",\n    chooseFile (e) "),a("span",[s._v("{")]),s._v("\n      "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" "),a("span",[s._v("{")]),s._v(" files "),a("span",[s._v("}")]),s._v(" = e.target\n      "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" reader = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" FileReader()\n      reader.onload = "),a("span",{staticClass:"hljs-function"},[s._v("("),a("span",{staticClass:"hljs-params"},[s._v("e")]),s._v(") =>")]),s._v(" "),a("span",[s._v("{")]),s._v("\n        "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" "),a("span",[s._v("{")]),s._v(" result "),a("span",[s._v("}")]),s._v(" = e.target\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".imgSrc = result\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".show = "),a("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v("\n        "),a("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".$refs.input.value = "),a("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("\n      "),a("span",[s._v("}")]),s._v("\n      reader.readAsDataURL(files["),a("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("])\n    "),a("span",[s._v("}")]),s._v(",\n    handleConfirm ("),a("span",[s._v("{")]),s._v(" file, url "),a("span",[s._v("}")]),s._v(") "),a("span",[s._v("{")]),s._v("\n      "),a("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".loadSrc = url\n      "),a("span",{staticClass:"hljs-comment"},[s._v("// 使用 file 对象进行图片上传")]),s._v("\n    "),a("span",[s._v("}")]),s._v(",\n    handleCancel () "),a("span",[s._v("{")]),s._v("\n      "),a("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),a("span",{staticClass:"hljs-string"},[s._v("'取消'")]),s._v(")\n    "),a("span",[s._v("}")]),s._v("\n  "),a("span",[s._v("}")]),s._v("\n"),a("span",[s._v("}")]),s._v("\n")])])]),s._v(" "),a("h3",{attrs:{id:"attributes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attributes"}},[s._v("¶")]),s._v(" Attributes")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("类型")]),s._v(" "),a("th",[s._v("可选值")]),s._v(" "),a("th",[s._v("默认值")]),s._v(" "),a("th",[s._v("最低版本")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("value/v-model")]),s._v(" "),a("td",[s._v("打开图片裁剪组件")]),s._v(" "),a("td",[s._v("Boolean")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("false")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("img-src")]),s._v(" "),a("td",[s._v("图片资源链接")]),s._v(" "),a("td",[s._v("String")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("img-width")]),s._v(" "),a("td",[s._v("截屏预览图片的初始宽度; "),a("code",[s._v("1、设置宽度不设置高度，按照宽度等比缩放；2、如果都不设置，预览时图片大小会根据裁剪框大小进行等比缩放，进行锁边处理；")]),s._v("; string 类型只支持 % 单位，number 类型时单位为 px")]),s._v(" "),a("td",[s._v("Number / String")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("img-height")]),s._v(" "),a("td",[s._v("截屏预览图片的初始高度; "),a("code",[s._v("1、设置高度不设置宽度，按照高度等比缩放；2、如果都不设置，预览时图片大小会根据裁剪框大小进行等比缩放，进行锁边处理；")]),s._v("; string 类型只支持 % 单位，number 类型时单位为 px")]),s._v(" "),a("td",[s._v("Number / String")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("disabled-rotate")]),s._v(" "),a("td",[s._v("禁止图片旋转")]),s._v(" "),a("td",[s._v("Boolean")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("false")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("export-scale")]),s._v(" "),a("td",[s._v("设置导出图片尺寸")]),s._v(" "),a("td",[s._v("Number")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("max-scale")]),s._v(" "),a("td",[s._v("最大缩放倍数")]),s._v(" "),a("td",[s._v("Number")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("3")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("cancel-button-text")]),s._v(" "),a("td",[s._v("取消按钮文案")]),s._v(" "),a("td",[s._v("string")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("取消")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("confirm-button-text")]),s._v(" "),a("td",[s._v("确认按钮文案")]),s._v(" "),a("td",[s._v("string")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("完成")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("quality")]),s._v(" "),a("td",[s._v("生成的图片质量")]),s._v(" "),a("td",[s._v("Number")]),s._v(" "),a("td",[s._v("0/1")]),s._v(" "),a("td",[s._v("1")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("file-type")]),s._v(" "),a("td",[s._v("目标文件的类型")]),s._v(" "),a("td",[s._v("string")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("png")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("filename")]),s._v(" "),a("td",[s._v("目标文件的 file 对象文件名，自动根据 file-type 拼接后缀")]),s._v(" "),a("td",[s._v("string")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("filename")]),s._v(" "),a("td",[s._v("否")])])])]),s._v(" "),a("h3",{attrs:{id:"events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[s._v("¶")]),s._v(" Events")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("事件名称")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("最低版本")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("bind:confirm")]),s._v(" "),a("td",[s._v("完成截图时触发")]),s._v(" "),a("td",[a("span",[s._v("{")]),s._v("url, file, width, height"),a("span",[s._v("}")]),s._v(" 分别为生成图片base64地址、生成图片 file 对象（用于上传到服务端）、生成图片宽、生成图片高")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("bind:cancel")]),s._v(" "),a("td",[s._v("当取消截图时触发")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2.3.0")])])])]),s._v(" "),a("h3",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[s._v("¶")]),s._v(" Methods")]),s._v(" "),a("p",[s._v("对外暴露函数")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("事件名称")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("最低版本")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("setRoate")]),s._v(" "),a("td",[s._v("设置图片旋转角度")]),s._v(" "),a("td",[s._v("deg (设置的旋转角度)")]),s._v(" "),a("td",[s._v("2.3.0")])]),s._v(" "),a("tr",[a("td",[s._v("resetImg")]),s._v(" "),a("td",[s._v("重置图片的角度、缩放、位置")]),s._v(" "),a("td",[s._v("-")]),s._v(" "),a("td",[s._v("2.3.0")])])])])])}];v._withStripped=!0,a.d(t,"render",(function(){return v})),a.d(t,"staticRenderFns",(function(){return _}))}}]);